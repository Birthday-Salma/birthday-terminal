<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVU_CORE_DASHBOARD</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Syne:wght@800&display=swap" rel="stylesheet">
    <style>
        :root {
            --matrix: #00ff41;
            --bg: #000;
            --white: #ffffff;
            --gray: #888;
            --gold: #ffd700;
            --heart-red: #ff0033;
            /* Semi-dark red for floating particles */
            --float-heart: rgba(255, 0, 51, 0.25); 
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            background: var(--bg);
            overflow: hidden;
            font-family: 'Space Mono', monospace;
            height: 100vh;
            color: var(--white);
            transition: background 2s ease;
        }

        body.heart-active {
            background: #0a0000;
        }

        canvas { position: fixed; top: 0; left: 0; }
        #matrixCanvas { z-index: 1; }
        #confCanvas { z-index: 100; pointer-events: none; }

        #scene {
            position: relative;
            z-index: 10;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            perspective: 2000px;
        }

        /* --- CARD PULSE --- */
        @keyframes cardHeartbeat {
            0% { transform: scale(1); }
            15% { transform: scale(1.03); }
            30% { transform: scale(1); }
            45% { transform: scale(1.015); }
            100% { transform: scale(1); }
        }

        .dashboard {
            width: 700px;
            background: rgba(0, 0, 0, 0.95);
            border: 1px solid #222;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 0 50px rgba(0,0,0,1);
            transform-style: preserve-3d;
            transition: transform 0.1s ease-out, border 1s;
            position: relative;
        }

        .dashboard.unlocked-style {
            border-color: var(--heart-red);
            animation: cardHeartbeat 2.5s ease-in-out infinite;
            box-shadow: 0 0 60px rgba(255, 0, 51, 0.2);
        }

        @keyframes neonGlow {
            0%, 100% { box-shadow: 0 0 5px var(--matrix); }
            50% { box-shadow: 0 0 25px var(--matrix); }
        }

        .btn-access.ready { 
            background: var(--matrix); 
            color: #000; 
            cursor: pointer; 
            border: none;
            animation: neonGlow 1.5s infinite;
        }

        /* UI Elements */
        .header { margin-bottom: 30px; }
        .top-row { display: flex; justify-content: space-between; align-items: flex-start; }
        .id-label { font-size: 14px; color: var(--gray); }
        .status-box { border: 1px solid var(--white); border-radius: 15px; padding: 5px 20px; }
        .status-text { font-weight: bold; font-size: 14px; }
        h1 { font-size: 42px; font-weight: bold; color: var(--white); margin-top: 5px; }
        .sub-header { color: var(--matrix); font-size: 14px; font-weight: bold; }

        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px; }
        .module { border: 1px solid #222; padding: 15px; }
        .module-title { font-size: 14px; font-weight: bold; margin-bottom: 10px; }
        .inner-grid { display: grid; grid-template-columns: 1fr 1fr; border-top: 1px solid #222; }
        .cell { padding: 10px; border-right: 1px solid #222; border-bottom: 1px solid #222; }
        .cell-label { font-size: 10px; color: var(--gray); }
        .cell-val { font-size: 12px; font-weight: bold; }
        .green-text { color: var(--matrix); }

        .bottom-section { margin-top: 30px; display: grid; grid-template-columns: 1.5fr 1fr; gap: 20px; }
        .log-box { font-size: 11px; color: var(--matrix); line-height: 1.6; }
        #timer { font-size: 32px; font-weight: bold; color: var(--matrix); }

        .overlay {
            position: absolute;
            inset: 0;
            z-index: 100;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: 0.8s;
            padding: 40px;
            text-align: center;
            border-radius: inherit;
            background-image: linear-gradient(rgba(10, 0, 5, 0.6), rgba(0, 0, 0, 0.6)), url('xxx.jpeg');
            background-size: cover;
            background-position: center;
            transform-style: preserve-3d;
        }
        .overlay.show { opacity: 1; pointer-events: auto; }
        .overlay h2 { color: var(--gold); font-size: 2.2rem; margin-bottom: 20px; transform: translateZ(30px); }
        .overlay p { color: #fff; line-height: 1.8; transform: translateZ(20px); }

        .btn-relock {
            margin-top: 40px; 
            background: rgba(0,0,0,0.8); 
            border: 1px solid #990022; 
            color: #ff3366;
            padding: 12px 24px; 
            cursor: pointer;
            font-family: 'Space Mono';
            transform: translateZ(40px);
            transition: 0.3s;
        }
        .btn-relock:hover {
            border-color: #ff3366;
            background: rgba(255, 51, 102, 0.1);
        }

        .bar-bg { width: 100%; height: 6px; background: #111; margin-top: 10px; }
        #entropyBar { width: 0%; height: 100%; background: var(--matrix); transition: width 0.5s; }
        .footer { margin-top: 30px; display: flex; gap: 20px; }
        .btn-access { background: none; border: 1px solid var(--matrix); color: var(--matrix); padding: 10px 30px; cursor: not-allowed; }
    </style>
</head>
<body>

    <canvas id="matrixCanvas"></canvas>
    <canvas id="confCanvas"></canvas>

    <div id="scene">
        <div class="dashboard" id="card">
            <div class="header">
                <div class="top-row">
                    <div>
                        <div class="id-label">[ ARCH_LINUX_CORE ]</div>
                        <div class="id-label" style="color: var(--matrix)" id="visitorCount">[ LOG_SESSION: #000 ]</div>
                    </div>
                    <div class="status-box">
                        <span style="color: var(--gray); font-size: 10px;">Status</span>
                        <div class="status-text" id="statusText">ENCRYPTED</div>
                    </div>
                </div>
                <h1 id="headline">DATA_LOCK</h1>
                <div class="sub-header" id="subtext">AWAITING_SEQUENCE_START</div>
            </div>

            <div class="grid">
                <div class="module">
                    <div class="module-title">SYSTEM LOG</div>
                    <div class="inner-grid">
                        <div class="cell"><div class="cell-label">NODE_ORIGIN</div><div class="cell-val">SVU_RIYADH</div></div>
                        <div class="cell"><div class="cell-label">VISITS</div><div class="cell-val green-text" id="visitDisplay">0</div></div>
                    </div>
                </div>
                <div class="module">
                    <div class="module-title">HARDWARE THREAD</div>
                    <div class="inner-grid">
                        <div class="cell"><div class="cell-label">CPU_CORE</div><div class="cell-val">04_SEC</div></div>
                        <div class="cell"><div class="cell-label">STATUS</div><div class="cell-val green-text">ACTIVE</div></div>
                    </div>
                </div>
            </div>

            <div class="bottom-section">
                <div class="log-box">
                    <div class="module-title" style="color: white">SYSTEM LOG</div>
                    <div id="logContent">Initializing secure handshake...<br>Scanning memory blocks...</div>
                    <div class="entropy-wrap">
                        <div class="cell-label">DECRYPTION <span id="entropyPerc" style="float:right">0%</span></div>
                        <div class="bar-bg"><div id="entropyBar"></div></div>
                    </div>
                </div>
                <div class="module" style="text-align: center; padding: 20px;">
                    <div class="cell-label">TIMER</div>
                    <div id="timer">00:00</div>
                </div>
            </div>

            <div class="footer">
                <div style="flex-grow: 1; border: 1px solid #222; background: #050505;"></div>
                <button class="btn-access" id="accessBtn" onclick="grantAccess()">BTN ACCESS</button>
            </div>

            <div class="overlay" id="overlay">
                <div style="font-size: 60px; margin-bottom: 10px; transform: translateZ(50px);">âœ¨</div>
                <h2>SYSTEM UNLOCKED</h2>
                <p>To the Cybersecurity Engineer and the Most Cute Girl:<br>Salma Saleh<br><br>Wishing you an elite birthday and a blessed Ramadan. Your code is clean, and your security is unbreakable! ðŸ˜ŒðŸŽ‰</p>
                <button class="btn-relock" id="terminateBtn" onclick="closeOverlay()">TERMINATE_SESSION</button>
            </div>
        </div>
    </div>

<script>
    let visitCount = localStorage.getItem('birthday_visits') || 0;
    visitCount++;
    localStorage.setItem('birthday_visits', visitCount);
    document.getElementById('visitDisplay').innerText = visitCount;
    document.getElementById('visitorCount').innerText = `[ LOG_SESSION: #${visitCount.toString().padStart(3, '0')} ]`;

    const targetDate = new Date().getTime() + 5000; 
    let isUnlocked = false;
    let heartMode = false;

    const mCanvas = document.getElementById('matrixCanvas');
    const mCtx = mCanvas.getContext('2d');
    let W, H, columns, drops = [];
    const fontSize = 24;

    // --- NEW FLOATING HEARTS DATA ---
    let floatingHearts = [];

    function initMatrix() {
        W = window.innerWidth; H = window.innerHeight;
        mCanvas.width = W; mCanvas.height = H;
        document.getElementById('confCanvas').width = W;
        document.getElementById('confCanvas').height = H;
        columns = Math.floor(W / fontSize);
        drops = Array(columns).fill(1);
    }

    function drawMatrix() {
        mCtx.fillStyle = "rgba(0, 0, 0, 0.15)"; 
        mCtx.fillRect(0, 0, W, H);
        mCtx.font = fontSize + "px monospace";
        for (let i = 0; i < drops.length; i++) {
            const text = Math.random() > 0.5 ? "0" : "1";
            mCtx.fillStyle = Math.random() > 0.9 ? "#00ff41" : "#003b00";
            mCtx.fillText(text, i * fontSize, drops[i] * fontSize);
            if (drops[i] * fontSize > H && Math.random() > 0.975) drops[i] = 0;
            drops[i]++;
        }
    }

    // --- HEART DRAWING UTILITY ---
    function drawHeartShape(ctx, x, y, size, opacity, isFilled) {
        ctx.save();
        ctx.translate(x, y);
        ctx.beginPath();
        for (let i = 0; i < 2 * Math.PI; i += 0.05) {
            let hX = 16 * Math.pow(Math.sin(i), 3);
            let hY = -(13 * Math.cos(i) - 5 * Math.cos(2 * i) - 2 * Math.cos(3 * i) - Math.cos(4 * i));
            ctx.lineTo(hX * size, hY * size);
        }
        
        if (isFilled) {
            ctx.fillStyle = `rgba(153, 0, 34, ${opacity})`; // Semi-dark red
            ctx.fill();
        } else {
            ctx.strokeStyle = `rgba(255, 51, 102, ${opacity * 0.5})`; // Fainter edge
            ctx.lineWidth = 1;
            ctx.stroke();
        }
        ctx.restore();
    }

    // --- IMPROVED HEART ENGINE ---
    let mainHeartPulse = 0;
    
    function initFloatingHearts() {
        floatingHearts = [];
        // Create 60 particles with random properties
        for (let i = 0; i < 60; i++) {
            floatingHearts.push({
                x: Math.random() * W,
                y: Math.random() * H + H, // Start below screen
                size: Math.random() * 3 + 1, // varied sizes
                speed: Math.random() * 1 + 0.5, // varied speed
                opacity: Math.random() * 0.5 + 0.1, // semi-dark opacities
                wobble: Math.random() * 100, // horizontal drift
                filled: Math.random() > 0.3 // mix of filled and outline
            });
        }
    }

    function drawHeartBackground() {
        mCtx.fillStyle = "rgba(10, 0, 0, 0.2)"; // Deep midnight trail
        mCtx.fillRect(0, 0, W, H);
        
        // 1. Draw 60 Floating Hearts (Bokeh effect)
        for (let i = 0; i < floatingHearts.length; i++) {
            let p = floatingHearts[i];
            p.y -= p.speed; // Float up
            p.x += Math.sin((p.y + p.wobble) * 0.01) * 0.5; // Drift side to side

            // If it goes off top, reset to bottom
            if (p.y < -50) {
                p.y = H + 50;
                p.x = Math.random() * W;
            }

            drawHeartShape(mCtx, p.x, p.y, p.size, p.opacity, p.filled);
        }

        // 2. Draw Main Beating Heart (behind card)
        mainHeartPulse = 15 + Math.sin(Date.now() * 0.005) * 1.5;
        if(Math.sin(Date.now() * 0.01) > 0.8) mainHeartPulse += 0.5;

        mCtx.save();
        mCtx.shadowBlur = 40;
        mCtx.shadowColor = "rgba(255, 0, 51, 0.7)";
        drawHeartShape(mCtx, W / 2, H / 2, mainHeartPulse, 0.4, true); // Main solid heart
        ctxC.restore();
    }

    window.addEventListener('mousemove', e => {
        const card = document.getElementById('card');
        let ax = (window.innerWidth / 2 - e.pageX) / 60;
        let ay = (window.innerHeight / 2 - e.pageY) / 60;
        card.style.transform = `rotateY(${-ax}deg) rotateX(${ay}deg)`;
    });

    function update() {
        const now = new Date().getTime();
        const diff = targetDate - now;
        const prog = Math.max(0, Math.min(100, (1 - (diff / 5000)) * 100));
        document.getElementById('entropyBar').style.width = prog + "%";
        document.getElementById('entropyPerc').innerText = Math.floor(prog) + "%";

        if (diff <= 0) {
            if (!isUnlocked) {
                isUnlocked = true;
                document.getElementById('statusText').innerText = "AUTHENTICATED";
                document.getElementById('statusText').style.color = "var(--gold)";
                document.getElementById('headline').innerText = "HAPPY_BIRTHDAY";
                document.getElementById('subtext').innerText = "SENIOR_CYBER_ENGINEER_DETECTED";
                const btn = document.getElementById('accessBtn');
                btn.innerText = "Grant Access";
                btn.classList.add('ready');
            }
            document.getElementById('timer').innerText = "00:00";
            return;
        }
        const s = Math.floor((diff % 60000) / 1000).toString().padStart(2, '0');
        document.getElementById('timer').innerText = `00:${s}`;
    }

    const confC = document.getElementById('confCanvas');
    const ctxC = confC.getContext('2d');
    let confetti = [];

	function triggerConfetti() {
		for(let i=0; i<150; i++) {
			confetti.push({
				x: Math.random() * W, 
				y: -20, 
				sz: Math.random() * 8 + 4,
				// ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø³Ø±Ø¹Ø© Ø§Ù„Ø£ÙÙ‚ÙŠØ© (Ø§Ù„Ø§Ù†ØªØ´Ø§Ø±)
				vx: (Math.random() - 0.7) * 4, 
				// ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø³Ø±Ø¹Ø© Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠØ© (Ø§Ù„Ø¬Ø§Ø°Ø¨ÙŠØ©) Ù„Ø¬Ø¹Ù„Ù‡Ø§ ØªØ³Ù‚Ø· Ø¨Ø¨Ø·Ø¡
				vy: Math.random() * 2 + 1.7, 
				// Ø¬Ø¹Ù„ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© ØªÙ…Ø§Ù…Ø§Ù‹ (Ù…Ù† 0 Ø¥Ù„Ù‰ 360 Ø¯Ø±Ø¬Ø© Ù„ÙˆÙ†)
				c: `hsl(${Math.random() * 360}, 80%, 60%)` 
			});
		}
	}

    function grantAccess() {
        if(!isUnlocked) return;
        heartMode = true;
        initFloatingHearts(); // Start the floating system
        document.body.classList.add('heart-active');
        document.getElementById('card').classList.add('unlocked-style');
        document.getElementById('overlay').classList.add('show');
        triggerConfetti();
    }

    function closeOverlay() { 
        document.getElementById('overlay').classList.remove('show');
    }

    function animate() {
        if (!heartMode) drawMatrix(); else drawHeartBackground();
        ctxC.clearRect(0, 0, W, H);
        confetti.forEach((p, i) => {
            p.x += p.vx; p.y += p.vy;
			p.x += p.vx + Math.sin(p.y * 0.02); // Ø¥Ø¶Ø§ÙØ© ØªÙ…Ø§ÙŠÙ„ Ø¬Ø§Ù†Ø¨ÙŠ Ø¨Ø³ÙŠØ·
            ctxC.fillStyle = p.c;
            ctxC.fillRect(p.x, p.y, p.sz, p.sz);
            if(p.y > H) confetti.splice(i, 1);
        });
        requestAnimationFrame(animate);
    }

    window.addEventListener('resize', initMatrix);
    initMatrix(); animate(); setInterval(update, 1000);
</script>
</body>
</html>
